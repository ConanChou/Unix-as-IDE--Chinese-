编辑器
======

文本编辑器对所有程序员来说都是核心工具，这也是为什么它会引发虽不当真却也狂热的争议。Unix，很显而易见的，是与两大最经久不衰的受宠编辑器最有渊源的操作系统。这两个编辑器是 Emacs 和 Vi，它们的现代版本便是 GNU Emacs 和 Vim，两个编辑哲学迥异的编辑器在效能上却旗鼓相当。

作为 Vim 的异教徒，我来聊聊 Vim 对于编程不可或缺的功能，具体来说就是从 Vim 里调用 Linux shell 工具来完善编辑器的内建功能性。这里谈到的一些原理对 Emacs 也适用，但是对那些欠强大的编辑器来说并无参考价值，比如 Nano。

这篇帖子只能是纵览全局，毕竟 Vim 的编程工具组非常多，但即使是很泛泛地谈，它也会是一篇相当长的帖子。我会把重点放在要点和一些我认为很有帮助的东西上，并且有可能的话提供一些文章的链接以便对此话题有更加全面的了解。同时也别忘了 Vim 的 ``:help``\，很多新人都没有想到这份文档是如此高质量又好用。

文件类型侦测
------------

Vim 有内建的设置用于调整其运作方式，具体来说比如它基于被加载的文件类型进行句法高亮，这么做一直非常有效。另外，文件类型的侦测还可以让你根据某种语言常规的书写风格为此语言设置特定的缩进风格。这应该是第一批你需要加进 ``.vimrc`` 里的一部分： ::
    
    if has("autocmd")
        filetype on
        filetype indent on
        filetype plugin on
    endif

句法高亮
--------

即便你只是在16位色的命令行下工作，如果你还没有这么做，那赶紧在你的 ``.vimrc`` 里加入这句话吧： ::
    
    syntax on

默认的16位色的命令行配色不怎么好看也是不得已，但是他们已经起到作用了，绝大多数语言的句法定义文件是可轻易获取的，而且它们的效果都不错。这儿有 `一大堆配色方案 <http://code.google.com/p/vimcolorschemetest/>`_\，而且调整甚至自己写都不困难。当然用 `256色的命令行 <http://vim.wikia.com/wiki/256_colors_in_vim>`_ 或 gVim 会提供更多选项。好的句法高亮文件还会在有明显句法错误的时候用醒目的红色背景标示。

行号
----

可能你在传统的 IDE 里经常使用，打开行号： ::
    
    set number

如果你现在在用高于 Vim 7.3 的版本，你可能也会想试试把绝对行号换成相对行号： ::
    
    set relativenumber

标签文件
--------

Vim 对 ``ctags`` 实用工具的输出 `支持得很好 <http://amix.dk/blog/post/19329>`_\。它能让你快速地在整个项目中搜索某个特定的标示符；或者不管在不在同一个文件，直接从某变量被使用的地方跳转到该变量被申明的位置。对还有多个文件的 C 语言项目，这可以节省大把本来会被浪费掉的时间，而且很有可能 Vim 是目前有类似功能的主流 IDE 中最好的。

在你的项目根目录下（很多流行的编程语言都可以）运行 ``:!ctags -R`` 来生成 ``tags`` 文件，此文件里是整个项目里所有的申明和标示符的位置。一旦 ``ctags`` 文件被生成，你就可以像下面这样来搜索某些标签了： ::
    
    :tag someClass

用 ``:tn`` 和 ``:tp``\，你就可以遍历搜索结果了。自带的标签功能已经可以满足你大部分的需求了，但是像标签列表窗口这样的功能，你可以是是安装很受欢迎的 `Taglist 插件 <http://vim-taglist.sourceforge.net/>`_\。Tim Pope 的 `Unimpaired 插件 <https://github.com/tpope/vim-unimpaired>`_ 也有一些有用的相关映射。

调用外部程序
------------

有两中主要方法可以在 Vim 里调用外部程序：

* ``:!<command>``\——在从 Vim 内容跑某命令时很有用，尤其是在你想把运行结果输出到 Vim buffer 的情况下。
* ``:shell``\——以 Vim 子进程的方式弹开一个命令行。适合交互式命令。

第三种方法我不想在这里深入讨论，就是用像 `Conque <http://code.google.com/p/conque/>`_ 在 Vim buffer 里模拟命令行。我自己试了下发现几乎不能用，我敢断言这是个糟糕的设计。一下摘自 ``:help design-not:``\：
    
    Vim 不是 Shell 也不是操作系统。你不能在 Vim 里跑 Shell 也不能用它来控制调试器。相反的：把 Vim 当作 Shell 或 IDE 的一部分。

Lint 程序和句法检查器
---------------------

用调用外部程序（如 ``perl -c``\, ``gcc``\）来检测句法是
